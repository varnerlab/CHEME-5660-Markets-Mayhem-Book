

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Data-Driven Portfolio Theory &#8212; CHEME 5660</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-PG1Y6R28LY"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-PG1Y6R28LY');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter-3-dir/data-markowitz';</script>
    <link rel="canonical" href="https://varnerlab.github.io/CHEME-5660-Markets-Mayhem-Book/infrastructure.html/chapter-3-dir/data-markowitz.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Model-Driven Portfolio Theory" href="model-markowitz.html" />
    <link rel="prev" title="Unit 3: Portfolio Management" href="chapter-3-landing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../infrastructure.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/cornell_seal_simple_black-164.svg" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/cornell_seal_simple_black-164.svg" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../infrastructure.html">
                    CHEME 5660: Financial Data, Markets, and Mayhem
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter-1-dir/chapter-1-landing.html">Unit 1. Financial Basics</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter-1-dir/assets.html">Interest, Cash Flows and Future Value</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter-1-dir/pfinance-basics.html">Personal Finance Basics</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter-2-dir/chapter-2-landing.html">Unit 2. Wealth Creation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter-2-dir/bonds.html">Fixed Income Debt Securities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../chapter-2-dir/equity.html">Equity Securities</a></li>

<li class="toctree-l2"><a class="reference internal" href="../chapter-2-dir/contracts.html">Derivative Securities</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="chapter-3-landing.html">Unit 3. Portfolio Management</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Data-Driven Portfolio Theory</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-markowitz.html">Model-Driven Portfolio Theory</a></li>

<li class="toctree-l2"><a class="reference internal" href="hedged-portfolio.html">Hedged Portfolio Theory</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../chapter-4-dir/chapter-4-landing.html">Unit 4. Financial Decisions</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../chapter-4-dir/markov.html">Markov Chains</a></li>

<li class="toctree-l2"><a class="reference internal" href="../chapter-4-dir/mdp.html">Stochastic Sequential Decision Making</a></li>

<li class="toctree-l2"><a class="reference internal" href="../chapter-4-dir/bandits.html">Multiarm Bandit Problems</a></li>

<li class="toctree-l2"><a class="reference internal" href="../chapter-4-dir/rl.html">Reinforcement Learning</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../appendix/appendix-landing.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/random.html">Random variables and probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/julia-installation.html">Julia Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/julia-basics.html">Introduction to Julia Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/julia-data.html">Working with Data in Julia</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../References.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/varnerlab/CHEME-5660-Markets-Mayhem-Book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/varnerlab/CHEME-5660-Markets-Mayhem-Book/issues/new?title=Issue%20on%20page%20%2Fchapter-3-dir/data-markowitz.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapter-3-dir/data-markowitz.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data-Driven Portfolio Theory</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markowitz-portfolio-allocation">Markowitz Portfolio Allocation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#markowitz-allocation-for-risk-assets-only">Markowitz allocation for risk assets only</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#portfolios-of-risky-and-risk-free-assets">Portfolios of risky and risk-free assets</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-driven-markowitz-allocation">Data-Driven Markowitz Allocation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fractional-return">Fractional return</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logarithmic-return">Logarithmic return</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-excess-returns-from-data">Expected excess returns from data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#volatility-and-the-covariance-matrix">Volatility and the Covariance Matrix</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-driven-markowitz-allocation">Model-Driven Markowitz Allocation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#does-markowitz-portfolio-allocation-work">Does Markowitz Portfolio Allocation work?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#buy-and-hold-strategy">Buy and Hold Strategy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-driven-portfolio-theory">
<h1>Data-Driven Portfolio Theory<a class="headerlink" href="#data-driven-portfolio-theory" title="Permalink to this headline">#</a></h1>
<p>Modern portfolio theory (MPT), a method for selecting a portfolio of assets, e.g., a collection of stocks or bonds, maximizes the overall reward an investor recieves, gievn an acceptable level of risk. In particular, we’ll explore Markowitz portfolio optimization; Harry Markowitz, who developed the mathematical foundation of MPT <span id="id1">[<a class="reference internal" href="../References.html#id19" title="Harry Markowitz. Portfolio selection. The Journal of Finance, 7(1):77–91, 1952. URL: http://www.jstor.org/stable/2975974 (visited on 2022-04-12).">Markowitz, 1952</a>]</span>, was later awarded a <a class="reference external" href="https://www.nobelprize.org/prizes/economic-sciences/1990/markowitz/facts/">Nobel Prize for his work in 1990</a>.</p>
<p>The central theme of modern portfolio theory is balancing risk and reward. Reward is measured as the <a class="reference external" href="https://www.investopedia.com/terms/r/return.asp">expected return</a> of a portfolio of assets, while, the risk is calculated as the variance of the logarithmic or fraction return of the portfolio. Thus, the objective of modern portfolio theory is to balance the composition of the portfolio such that an investor obtains a desired expected return while minimizing the variance (risk).</p>
<p>For a more detailed discussion of MPT, see Part II (chapters 5 - 8) of Bodie, Kane, and Marcus <span id="id2">[<a class="reference internal" href="../References.html#id9" title="Zvi Bodie, Alex Kane, and Alan J Marcus. Investments. The McGraw-Hill/Irwin series in finance, insurance and real estate. McGraw-Hill/Irwin, New York, 9th ed edition, 2011. ISBN 9780073530703 (alk. paper).">Bodie <em>et al.</em>, 2011</a>]</span>.</p>
<p>In this chapter, we will:</p>
<ul class="simple">
<li><p>Introduce <a class="reference internal" href="#content-references-markowitz"><span class="std std-ref">Markowitz Portfolio Allocation</span></a> for a portfolio of risky and risk-free assets</p></li>
<li><p>Introduce <a class="reference internal" href="#content-references-markowitz-solution"><span class="std std-ref">Data-Driven Markowitz Allocation</span></a> and <a class="reference internal" href="#content-references-markowitz-solution-sim"><span class="std std-ref">Model-Driven Markowitz Allocation</span></a></p></li>
<li><p>Explore the question <a class="reference internal" href="#content-references-markowitz-solution-test"><span class="std std-ref">Does Markowitz Portfolio Allocation work?</span></a></p></li>
</ul>
<hr class="docutils" />
<section id="markowitz-portfolio-allocation">
<span id="content-references-markowitz"></span><h2>Markowitz Portfolio Allocation<a class="headerlink" href="#markowitz-portfolio-allocation" title="Permalink to this headline">#</a></h2>
<p>Markowitz portfolio allocation assumes that investors are risk-averse and rational.
Thus, if an investor chooses between two portfolios that offer <em>the same expected return</em>, a rational risk-averse investor will choose the less risky portfolio. Further, a rational risk-averse investor will incur increased risk only if compensated for this risk by a higher expected return, the so-called high-risk, high-reward paradigm. On the other hand, an investor who wants higher expected returns must accept more risk. However, the acceptable trade-off between risk and reward will differ for each investor; what you may find as an acceptable risk versus reward is not the same for everyone. Thus, a rational risk-averse investor will not invest in a portfolio if a second portfolio exists with a more favorable risk-expected return profile.</p>
<div class="proof remark admonition" id="remark-markowitz-in-words">
<p class="admonition-title"><span class="caption-number">Remark 2 </span> (Markowitz in Words)</p>
<section class="remark-content" id="proof-content">
<p>Suppose we have a set of assets <span class="math notranslate nohighlight">\(\mathcal{A}\)</span> composed of risky, e.g., equities and equity derivatives, and risk-free assets, e.g., treasury debt securities. The Markowitz portfolio allocation problem estimates the weight <span class="math notranslate nohighlight">\(\omega_{a}\)</span> of asset <span class="math notranslate nohighlight">\(a\)</span> for <span class="math notranslate nohighlight">\(\forall{a}\in\omega_{a}\)</span> that minimizes the risk for a user-specified return.</p>
</section>
</div><p>To make these ideas more concrete, let’s develop expressions for the risk and reward of a
portfolio. Denote the set of assets in a portfolio as <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>; where <span class="math notranslate nohighlight">\(\vert\mathcal{P}\vert\)</span> denotes the number of assets in the portfolio set. Then, the expected return (reward) of the portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> is defined as (<a class="reference internal" href="#defn-portfolio-return">Definition 22</a>):</p>
<div class="proof definition admonition" id="defn-portfolio-return">
<p class="admonition-title"><span class="caption-number">Definition 22 </span> (Expected Portfolio Return)</p>
<section class="definition-content" id="proof-content">
<p>Suppose we have a set of assets represented as <span class="math notranslate nohighlight">\(\mathcal{A}\)</span>. We can arrange these assets into a portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>. Denote the return of asset <span class="math notranslate nohighlight">\(i\)</span> in portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> on some time basis <span class="math notranslate nohighlight">\(\mathcal{B}\)</span> as <span class="math notranslate nohighlight">\(r_{i}\)</span>.</p>
<p>Then, the expected return of portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> denoted by
<span class="math notranslate nohighlight">\(\mathbb{E}\left(r_{\mathcal{P}}\right)\)</span> is:</p>
<div class="math notranslate nohighlight" id="equation-eqn-expected-p-rerturn">
<span class="eqno">(28)<a class="headerlink" href="#equation-eqn-expected-p-rerturn" title="Permalink to this equation">#</a></span>\[\mathbb{E}\left(r_{\mathcal{P}}\right) = \sum_{i\in\mathcal{P}}\omega_{i}\mathbb{E}\left(r_{i}\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(w_{i}\)</span> denotes the fraction of asset <span class="math notranslate nohighlight">\(i\)</span> in the portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, and
<span class="math notranslate nohighlight">\(\mathbb{E}\left(r_{i}\right)\)</span> denotes the expected return of asset <span class="math notranslate nohighlight">\(i\)</span> on time basis <span class="math notranslate nohighlight">\(\mathcal{B}\)</span>.</p>
</section>
</div><p>while the variance (risk) of the portfolio is defined as (<a class="reference internal" href="#defn-portfolio-variance">Definition 23</a>):</p>
<div class="proof definition admonition" id="defn-portfolio-variance">
<p class="admonition-title"><span class="caption-number">Definition 23 </span> (Portfolio Variance)</p>
<section class="definition-content" id="proof-content">
<p>Denote the return of asset <span class="math notranslate nohighlight">\(i\)</span> in portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> for some time basis <span class="math notranslate nohighlight">\(\mathcal{B}\)</span>
as <span class="math notranslate nohighlight">\(r_{i}\)</span>. Then, the variance of a portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> is given by:</p>
<div class="math notranslate nohighlight" id="equation-eqn-p-var-general">
<span class="eqno">(29)<a class="headerlink" href="#equation-eqn-p-var-general" title="Permalink to this equation">#</a></span>\[\sigma_{\mathcal{P}}^2 = 
\sum_{i\in\mathcal{P}}\sum_{j\in\mathcal{P}}w_{i}w_{j}
\text{cov}\left(r_{i},r_{j}\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(w_{\star}\)</span> denotes the fraction of asset <span class="math notranslate nohighlight">\(\star\)</span> in the portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, and
<span class="math notranslate nohighlight">\(\text{cov}\left(r_{i},r_{j}\right)\)</span> denotes the covariance between the return on assets <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>.
The <span class="math notranslate nohighlight">\(\text{cov}\left(r_{i},r_{j}\right)\)</span>, which quantifies the relationship between assets <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>, is given by:</p>
<div class="math notranslate nohighlight">
\[\text{cov}\left(r_{i},r_{j}\right) = \sigma_{i}\sigma_{j}\rho_{ij}\]</div>
<p>where <span class="math notranslate nohighlight">\(\sigma_{\star}\)</span> denote the standard deviation of the return of asset <span class="math notranslate nohighlight">\(\star\)</span>, and
<span class="math notranslate nohighlight">\(\rho_{ij}\)</span> denotes the correlation between assets <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>.</p>
</section>
</div><p>Now that we know how to compute a portfolio’s risk and expected reward let’s think about what we can control as a financial engineer. Of course, we cannot control the return or volatility of asset <span class="math notranslate nohighlight">\(i\)</span>; the market drives those. However, we can control which assets we include in the portfolio and the relative amount of each of these assets. Thus, how we choose which assets to include and their associated weights give insight into the type of investor we are. If we are a Markowitz investor, we minimize the risk required to obtain a specified reward.</p>
<div class="proof observation admonition" id="observation-3">
<p class="admonition-title"><span class="caption-number">Observation 4 </span> (The role of correlation in <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>)</p>
<section class="observation-content" id="proof-content">
<p>An exciting feature of the variance of the portfolio return (<a class="reference internal" href="#defn-portfolio-variance">Definition 23</a>) is the dependence on the <a class="reference external" href="https://en.wikipedia.org/wiki/Correlation">correlation</a> denoted by <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> between assets <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>. To see why this is exciting, let’s consider a portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> consisting of two risky assets; <span class="math notranslate nohighlight">\(\vert\mathcal{P}\vert\)</span> = 2. Then, the variance of the portfolio returns <span class="math notranslate nohighlight">\(\sigma_{\mathcal{P}}^{2}\)</span> is given by:</p>
<div class="math notranslate nohighlight">
\[\sigma_{\mathcal{P}}^2 = w_{1}^{2}\sigma_{1}^{2}+w_{2}^{2}\sigma_{2}^{2}+2w_{1}w_{2}\sigma_{1}
\sigma_{2}\rho_{12}\]</div>
<p>where <span class="math notranslate nohighlight">\(w_{\star}\)</span> is the fraction of asset <span class="math notranslate nohighlight">\(\star\)</span> in the portfolio, and
<span class="math notranslate nohighlight">\(\sigma_{\star}\)</span> denotes the standard deviation of the return of asset <span class="math notranslate nohighlight">\(\star\)</span>.
Thus, we can influence the overall portfolio variance by choosing the assets
based upon their correlation.</p>
<ul class="simple">
<li><p><strong>Positive correlation</strong>: For two assets that are positively correlated <span class="math notranslate nohighlight">\(p_{12}&gt;{0}\)</span>,
the variance of the return of the portfolio <span class="math notranslate nohighlight">\(\sigma_{\mathcal{P}}^{2}\)</span> is <em>greater</em> than to the variance of the assets alone (assuming <span class="math notranslate nohighlight">\(w_{\star}\geq{0}\)</span>).</p></li>
<li><p><strong>Zero (or small) correlation</strong>: For two assets that are either perfectly uncorrelated <span class="math notranslate nohighlight">\(p_{12} = 0\)</span> (or have small correlation <span class="math notranslate nohighlight">\(p_{12}\ll{1}\)</span>),
the variance of the return of the portfolio <span class="math notranslate nohighlight">\(\sigma_{\mathcal{P}}^{2}\)</span> is <em>similar to</em> the variance of the assets alone (assuming <span class="math notranslate nohighlight">\(w_{\star}\geq{0}\)</span>).</p></li>
<li><p><strong>Negative correlation</strong>: For two assets that are negatively correlated <span class="math notranslate nohighlight">\(p_{12}&lt;0\)</span>, the variance of the return of the portfolio <span class="math notranslate nohighlight">\(\sigma_{\mathcal{P}}^{2}\)</span> is <em>less</em> than to the variance of the assets alone (assuming <span class="math notranslate nohighlight">\(w_{\star}\geq{0}\)</span>).</p></li>
</ul>
</section>
</div><p>Further, the correlation does not appear in the expected portfolio return (<a class="reference internal" href="#defn-portfolio-return">Definition 22</a>); thus, by carefully selecting assets with low correlation, the overall risk of a portfolio can be reduced without impacting the return (all else being equal).</p>
<section id="markowitz-allocation-for-risk-assets-only">
<h3>Markowitz allocation for risk assets only<a class="headerlink" href="#markowitz-allocation-for-risk-assets-only" title="Permalink to this headline">#</a></h3>
<p>In the risky asset only case, the asset set <span class="math notranslate nohighlight">\(\mathcal{A}\)</span> is composed only of shares of common stock. The Markowitz allocation problem for a portfolio of risky assets is defined in <a class="reference internal" href="#defn-markowitz-risky-assets-only">Definition 24</a>.</p>
<div class="proof definition admonition" id="defn-markowitz-risky-assets-only">
<p class="admonition-title"><span class="caption-number">Definition 24 </span> (Risky Markowitz Portfolio)</p>
<section class="definition-content" id="proof-content">
<p>The Markowitz allocation problem for a portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> composed of <strong>only</strong> risky assets is the <a class="reference external" href="https://en.wikipedia.org/wiki/Quadratic_programming">quadratic program</a>:</p>
<div class="math notranslate nohighlight">
\[\min_{w} \sigma^{2}_{\mathcal{P}}\left(w\right)\]</div>
<p>subject to the constraints:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{eqnarray}
\mathbb{E}(r_{\mathcal{P}})&amp;\geq&amp;{R^{*}}\\
1^{T}w &amp;=&amp; 1\\
w_{i}&amp;\geq&amp;{0}\qquad{\forall{i}\in\mathcal{P}}
\end{eqnarray}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(w\)</span> denotes the vector of weights of the assets in portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, <span class="math notranslate nohighlight">\(\sigma^{2}_{\mathcal{P}}\left(w\right)\)</span> represents the portfolio variance; the portfolio variance can re-written as <span class="math notranslate nohighlight">\(\sigma^{2}_{\mathcal{P}}\left(w\right) = w^{T}\Sigma{w}\)</span>  where <span class="math notranslate nohighlight">\(\Sigma\)</span> is the <a class="reference external" href="https://en.wikipedia.org/wiki/Covariance_matrix">covariance matrix</a>. The quantity <span class="math notranslate nohighlight">\(\mathbb{E}(r_{\mathcal{P}})\)</span> denotes the expected return (or excess return) of the portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>; the expected return (or excess return) can be re-written as <span class="math notranslate nohighlight">\(w^{T}\mathbb{E}(r)\)</span> where <span class="math notranslate nohighlight">\(\mathbb{E}(r)\)</span> denotes the vector of expected returns (or excess returns) for each asset in the portfolio.</p>
<p>The quantity <span class="math notranslate nohighlight">\(R^{*}\)</span> denotes the minimal required return for <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, and <span class="math notranslate nohighlight">\(1^{T}\)</span> represents a vector of ones (total allocation constraint). The last constraint <span class="math notranslate nohighlight">\(w_{i}\geq{0}~\forall{i}\in\mathcal{P}\)</span> says that no short selling (borrowing shares) is allowed; if short selling is allowed, then this constraint can be removed.</p>
</section>
</div><p>A schematic of the solution of risky Markowitz problem defined in <a class="reference internal" href="#defn-markowitz-risky-assets-only">Definition 24</a> is given in <a class="reference internal" href="#fig-markowitz-only-risk"><span class="std std-numref">Fig. 31</span></a>.</p>
<figure class="align-default" id="fig-markowitz-only-risk">
<a class="reference internal image-reference" href="../_images/Fig-Markowitz-Only-Risky.pdf"><img alt="../_images/Fig-Markowitz-Only-Risky.pdf" src="../_images/Fig-Markowitz-Only-Risky.pdf" style="height: 440px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 31 </span><span class="caption-text">Schematic of the solution to the Markowitz allocation problem for a collection of risky assets.</span><a class="headerlink" href="#fig-markowitz-only-risk" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>A couple of thoughts:</p>
<ul class="simple">
<li><p>While the problem above is written in terms of absolute return <span class="math notranslate nohighlight">\(r_{\star}\)</span>, we can also write the portfolio allocation problem using excess returns; the excess return is <span class="math notranslate nohighlight">\(R_{\star} = r_{\star} - r_{f}\)</span>, where <span class="math notranslate nohighlight">\(r_{f}\)</span> denotes the risk-free rate of return.</p></li>
<li><p>The challenge to solving the Markowitz problem is estimating the expected return of assets in the portfolio and the covariance matrix <span class="math notranslate nohighlight">\(\Sigma\)</span>. These quantities can be calculated from available data or from models of the return and variance of the assets in the portfolio. We’ll consider both approaches.</p></li>
<li><p>Which portfolio along the efficient frontier in <a class="reference internal" href="#fig-markowitz-only-risk"><span class="std std-numref">Fig. 31</span></a> is up to the risk-reward tolerance of the investor; some investors are willing to take the additional risk because they expect to be rewarded with an increased return, others are not.</p></li>
<li><p>The minimum variance portfolio represents the maximum reward given the minimum risk.</p></li>
</ul>
</section>
<section id="portfolios-of-risky-and-risk-free-assets">
<h3>Portfolios of risky and risk-free assets<a class="headerlink" href="#portfolios-of-risky-and-risk-free-assets" title="Permalink to this headline">#</a></h3>
<p>Suppose that our asset set <span class="math notranslate nohighlight">\(\mathcal{A}\)</span> now contains both risky assets, i.e., shares of stock and a risk-free asset, e.g., <span class="xref myst">debt securities</span>. Thus, we have a guaranteed return associated with the risk-free asset, while the return associated with the risky assets is governed by the risk measure.</p>
<div class="proof definition admonition" id="defn-risky-risk-free-markowitz">
<p class="admonition-title"><span class="caption-number">Definition 25 </span> (Risky and Risk-free Markowitz)</p>
<section class="definition-content" id="proof-content">
<p>The Markowitz allocation problem for a portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> composed of both risky and risk-free assets is the <a class="reference external" href="https://en.wikipedia.org/wiki/Quadratic_programming">quadratic program</a>:</p>
<div class="math notranslate nohighlight">
\[\min_{w} \sigma^{2}_{\mathcal{P}}\left(w\right)\]</div>
<p>subject to the constraints:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{eqnarray}
\left(1-\sum_{i\in\mathcal{P}}\omega_{i}\right)r_{f}+\mathbb{E}(r_{\mathcal{P}})&amp;\geq&amp;{R^{*}}\\
w_{i}&amp;\geq&amp;{0}\qquad{\forall{i}\in\mathcal{P}}
\end{eqnarray}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(w\)</span> denotes the vector of weights of the assets in portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, <span class="math notranslate nohighlight">\(\sigma^{2}_{\mathcal{P}}\left(w\right)\)</span> represents the portfolio variance; the portfolio variance can re-written as <span class="math notranslate nohighlight">\(\sigma^{2}_{\mathcal{P}}\left(w\right) = w^{T}\Sigma{w}\)</span>  where <span class="math notranslate nohighlight">\(\Sigma\)</span> is the <a class="reference external" href="https://en.wikipedia.org/wiki/Covariance_matrix">covariance matrix</a>. The quantity <span class="math notranslate nohighlight">\(\mathbb{E}(r_{\mathcal{P}})\)</span> denotes the expected return (or excess return) of the portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>; the expected return (or excess return) can be re-written as <span class="math notranslate nohighlight">\(w^{T}\mathbb{E}(r)\)</span> where <span class="math notranslate nohighlight">\(\mathbb{E}(r)\)</span> denotes the vector of expected returns (or excess returns) for each asset in the portfolio.</p>
<p>The quantity <span class="math notranslate nohighlight">\(R^{*}\)</span> denotes the minimal required return for <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>, and <span class="math notranslate nohighlight">\(1^{T}\)</span> represents a vector of ones (total allocation constraint). The last constraint <span class="math notranslate nohighlight">\(w_{i}\geq{0}~\forall{i}\in\mathcal{P}\)</span> says that no short selling (borrowing shares) is allowed; if short selling is allowed, then this constraint can be removed.</p>
</section>
</div><p>A schematic of the solution of risky and risk-free Markowitz problem defined in <a class="reference internal" href="#defn-risky-risk-free-markowitz">Definition 25</a> is given in <a class="reference internal" href="#fig-markowitz-risky-and-risky-free"><span class="std std-numref">Fig. 32</span></a>.</p>
<figure class="align-default" id="fig-markowitz-risky-and-risky-free">
<a class="reference internal image-reference" href="../_images/Fig-Markowitz-Risk-Free-Asset.pdf"><img alt="../_images/Fig-Markowitz-Risk-Free-Asset.pdf" src="../_images/Fig-Markowitz-Risk-Free-Asset.pdf" style="height: 440px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">Schematic of the solution to the Markowitz allocation problem for a combination of risky and a risk-free asset.</span><a class="headerlink" href="#fig-markowitz-risky-and-risky-free" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>A couple of thoughts on <a class="reference internal" href="#fig-markowitz-risky-and-risky-free"><span class="std std-numref">Fig. 32</span></a>:</p>
<ul class="simple">
<li><p>While the problem above is written in terms of absolute return <span class="math notranslate nohighlight">\(r_{\star}\)</span>, we can also write the portfolio allocation problem using excess returns; the excess return is <span class="math notranslate nohighlight">\(R_{\star} = r_{\star} - r_{f}\)</span>, where <span class="math notranslate nohighlight">\(r_{f}\)</span> denotes the risk-free rate of return.</p></li>
<li><p>The challenge to solving the Markowitz problem is estimating the expected return of assets in the portfolio and the covariance matrix <span class="math notranslate nohighlight">\(\Sigma\)</span>. These quantities can be calculated from available data or from models of the return and variance of the assets in the portfolio. We’ll consider both approaches.</p></li>
<li><p>The tangency point in <a class="reference internal" href="#fig-markowitz-risky-and-risky-free"><span class="std std-numref">Fig. 32</span></a> is the optimal portfolio of risky assets.</p></li>
</ul>
</section>
</section>
<section id="data-driven-markowitz-allocation">
<span id="content-references-markowitz-solution"></span><h2>Data-Driven Markowitz Allocation<a class="headerlink" href="#data-driven-markowitz-allocation" title="Permalink to this headline">#</a></h2>
<p>The objective of Markowitz portfolio allocation problem is to estimate the weights <span class="math notranslate nohighlight">\(w=\left(w_{1},w_{2},\dots\right)^{T}\)</span> of the assets in portfolio <span class="math notranslate nohighlight">\(\mathcal{P}\)</span>  such that overall variance of the portfolio is minimized, for a specified return, subject to some constraints on <span class="math notranslate nohighlight">\(w\)</span>.</p>
<p>The return of an asset is a measure of the price difference of that asset between two time periods.
Return can be calculated in many ways; two common approaches are the percentage or fractional return and the logarithmic return.</p>
<section id="fractional-return">
<span id="content-references-fractional-return"></span><h3>Fractional return<a class="headerlink" href="#fractional-return" title="Permalink to this headline">#</a></h3>
<div class="proof definition admonition" id="defn-percentage-return">
<p class="admonition-title"><span class="caption-number">Definition 26 </span> (Fractional return)</p>
<section class="definition-content" id="proof-content">
<p>Let the price of asset <span class="math notranslate nohighlight">\(i\)</span> at any time <span class="math notranslate nohighlight">\(j\)</span> be given by <span class="math notranslate nohighlight">\(P_{ij}&gt;0\)</span>. Then the fractional return
on asset <span class="math notranslate nohighlight">\(i\)</span> over time horizon <span class="math notranslate nohighlight">\(j\rightarrow{k},j\neq{k}\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[r_{i,j\rightarrow{k}} \equiv \frac{P_{ik} - P_{ij}}{P_{ij}}\]</div>
<p>where <span class="math notranslate nohighlight">\(r_{i,j\rightarrow{k}}\)</span> denotes the fractional return of asset <span class="math notranslate nohighlight">\(i\)</span> over time horizon <span class="math notranslate nohighlight">\(j\rightarrow{k},i\neq{k}\)</span>.</p>
<p>Consider the daily return on stock <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> computed using the close price and the fractional return measure. Let <span class="math notranslate nohighlight">\(P_{ij}\)</span> denote the close price today, and <span class="math notranslate nohighlight">\(P_{ij-1}\)</span> denote the close price for the previous trading day. Then, the fractional daily return is given by:</p>
<div class="math notranslate nohighlight" id="equation-eq-example-daily-close-price">
<span class="eqno">(30)<a class="headerlink" href="#equation-eq-example-daily-close-price" title="Permalink to this equation">#</a></span>\[r_{i,j-1\rightarrow{j}} = \frac{P_{ij} - P_{i,j-1}}{P_{i,j-1}}\]</div>
</section>
</div><p>However, Eqn. <a class="reference internal" href="#equation-eq-example-daily-close-price">(30)</a> can be rearranged to give an expression similar to
Eqn. <a class="reference internal" href="../chapter-1-dir/assets.html#equation-eq-cash-flow-1-period">(6)</a>:</p>
<div class="math notranslate nohighlight">
\[P_{ij} = \left(1+r_{i,j-1\rightarrow{j}}\right)P_{i,j-1}\]</div>
<p>Thus, the fractional daily return (or a fractional return computed between any two different dates) is a type of discount rate that quantifies how the value of an asset changes, in the case of the share price of ticker <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>, because of market forces.
Becuase <span class="math notranslate nohighlight">\(P_{i,\star}\)</span> is a random variable, the return is also a random variable.</p>
</section>
<section id="logarithmic-return">
<span id="content-references-log-return"></span><h3>Logarithmic return<a class="headerlink" href="#logarithmic-return" title="Permalink to this headline">#</a></h3>
<div class="proof definition admonition" id="defn-log-return">
<p class="admonition-title"><span class="caption-number">Definition 27 </span> (Logarithmic return)</p>
<section class="definition-content" id="proof-content">
<p>Let the price of asset <span class="math notranslate nohighlight">\(i\)</span> at any time <span class="math notranslate nohighlight">\(j\)</span> be gievm by <span class="math notranslate nohighlight">\(P_{ij}&gt;0\)</span>. Then the logarithmic return
on asset <span class="math notranslate nohighlight">\(i\)</span> over time horizon <span class="math notranslate nohighlight">\(j\rightarrow{k},j\neq{k}\)</span> is defined as:</p>
<div class="math notranslate nohighlight">
\[\bar{r}_{i,j\rightarrow{k}} \equiv \log\left(\frac{P_{ij}}{P_{ik}}\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(\bar{r}_{i,j\rightarrow{k}}\)</span> denotes the logarithmic return of asset <span class="math notranslate nohighlight">\(i\)</span> over time horizon <span class="math notranslate nohighlight">\(j\rightarrow{k},i\neq{k}\)</span>. The <span class="math notranslate nohighlight">\(\log\left(\star\right)\)</span> term denotes the <a class="reference external" href="https://en.wikipedia.org/wiki/Natural_logarithm">natural log</a>.</p>
<p>Consider the daily return on stock <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> computed using the close price and the fractional return measure. Let <span class="math notranslate nohighlight">\(P_{ij}\)</span> denote the close price today, and <span class="math notranslate nohighlight">\(P_{ij-1}\)</span> denote the close price for the previous trading day. Then, the fractional daily return is given by:</p>
<div class="math notranslate nohighlight" id="equation-eq-example-daily-close-price-log">
<span class="eqno">(31)<a class="headerlink" href="#equation-eq-example-daily-close-price-log" title="Permalink to this equation">#</a></span>\[\bar{r}_{i,j-1\rightarrow{j}} = \log\left(\frac{P_{ij}}{P_{i,j-1}}\right)\]</div>
</section>
</div><p>However, Eqn. <a class="reference internal" href="#equation-eq-example-daily-close-price-log">(31)</a> can be rearranged to give an expression similar to
Eqn. <a class="reference internal" href="../chapter-1-dir/assets.html#equation-eq-cont-exchange-tvm">(9)</a>:</p>
<div class="math notranslate nohighlight">
\[P_{ij} = \exp\left(\bar{r}_{i,j-1\rightarrow{j}}\right)P_{i,j-1}\]</div>
<p>Thus, the logarithmic daily return (or a logarithmic return computed between any two different dates) is a continuous discount rate that quantifies how the value of an asset, e.g., the share price of ticker <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>, changes because of market forces. Becuase <span class="math notranslate nohighlight">\(P_{i,\star}\)</span> is a random variable, the return is also a random variable.</p>
</section>
<section id="expected-excess-returns-from-data">
<h3>Expected excess returns from data<a class="headerlink" href="#expected-excess-returns-from-data" title="Permalink to this headline">#</a></h3>
<p>Suppose we had a data set <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> that contained the daily close price firm <span class="math notranslate nohighlight">\(i\)</span> for the last <span class="math notranslate nohighlight">\(T\)</span> days, e.g., <span class="math notranslate nohighlight">\(1\rightarrow{T}\)</span>.
Let the ticker symbol for firm <span class="math notranslate nohighlight">\(i\)</span> be given by <code class="docutils literal notranslate"><span class="pre">XYZ</span></code>.
Then, from the definition of expectation, we know the expected excess return for <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> is given by:</p>
<div class="math notranslate nohighlight" id="equation-eq-defn-expected-return">
<span class="eqno">(32)<a class="headerlink" href="#equation-eq-defn-expected-return" title="Permalink to this equation">#</a></span>\[\mathbb{E}\left(R_{i}\right) = \sum_{t}p(t)R_{i,t}\]</div>
<p>where the probability <span class="math notranslate nohighlight">\(\sum_{t}p(t) = 1\)</span>. The probability terms in Eqn. <a class="reference internal" href="#equation-eq-defn-expected-return">(32)</a> have several interpretations. First, they could represent the output of some (unknown) market process governing the returns. Another actionable interpretation is to think of them as weighting factors.</p>
<p>Suppose the recent trend in <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> prices is significantly different from long-term historical price trends, e.g., <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> has recently experienced a sustained period of decline. You could weigh the recent data more highly to calculate an expected return (or volatility) that is more representative of current trends. Of course, the opposite could also be true; you could also empathize older versus newer data.</p>
<p>Many weighting schemes could be used; any approach that obeys the axioms of probability will work! However, let’s borrow a strategy from chemical physics, namely, we’ll assume <span class="math notranslate nohighlight">\(p(t)\)</span> follows the <a class="reference external" href="https://en.wikipedia.org/wiki/Boltzmann_distribution">Boltzmann distribution</a>.</p>
<div class="proof definition admonition" id="defn-bwer">
<p class="admonition-title"><span class="caption-number">Definition 28 </span> (Boltzmann weighted excess returns)</p>
<section class="definition-content" id="proof-content">
<p>Let the excess return values for firm <span class="math notranslate nohighlight">\(i\)</span> at the time intervals <span class="math notranslate nohighlight">\(t=1,2,\dots,T\)</span> be represented by <span class="math notranslate nohighlight">\(R_{i,t}\)</span>; the expected excess return for a firm <span class="math notranslate nohighlight">\(i\)</span> is represented by:</p>
<div class="math notranslate nohighlight">
\[\mathbb{E}\left(R_{i}\right) = \sum_{t=1}^{T}p(t)R_{i,t}\]</div>
<p>where <span class="math notranslate nohighlight">\(R_{i,t}\)</span> denotes the excess return in time period <span class="math notranslate nohighlight">\(t\)</span> for firm <span class="math notranslate nohighlight">\(i\)</span>.
Further, let the probability factors <span class="math notranslate nohighlight">\(p(t)\)</span> follow a <a class="reference external" href="https://en.wikipedia.org/wiki/Boltzmann_distribution">Boltzmann distribution</a>:</p>
<div class="math notranslate nohighlight">
\[p(t) = \frac{1}{Z}\exp(-\lambda\epsilon_{t})\]</div>
<p>where the partition function <span class="math notranslate nohighlight">\(Z\)</span> is defined as:</p>
<div class="math notranslate nohighlight" id="equation-eqn-partition-factor-bw">
<span class="eqno">(33)<a class="headerlink" href="#equation-eqn-partition-factor-bw" title="Permalink to this equation">#</a></span>\[Z = \sum_{t=1}^{T}\exp(-\lambda\epsilon_{t})\]</div>
<p>The adjustable parameter <span class="math notranslate nohighlight">\(\lambda\geq{0}\)</span> controls the rate of decay, while <span class="math notranslate nohighlight">\(\epsilon_{t}&gt;0\)</span> is a pseudo energy of the market at time <span class="math notranslate nohighlight">\(t\)</span>; although more interesting functions may be possible to model the energy of a market, let <span class="math notranslate nohighlight">\(\epsilon_{t} = t\)</span>.</p>
<p>Then, the Boltzmann weighted expected excess return for <span class="math notranslate nohighlight">\(\epsilon_{t} = t\)</span> is given by:</p>
<div class="math notranslate nohighlight" id="equation-eqn-boltzmann-weight-expectation">
<span class="eqno">(34)<a class="headerlink" href="#equation-eqn-boltzmann-weight-expectation" title="Permalink to this equation">#</a></span>\[\mathbb{E}_{B}\left(R_{i}\right) = \frac{1}{Z}\sum_{t=1}^{T}\exp\left(-\lambda{t}\right){R}_{i,t}\]</div>
</section>
</div><p>Depending upon how we choose <span class="math notranslate nohighlight">\(\lambda\)</span> and the pseudo energies in <a class="reference internal" href="#defn-bwer">Definition 28</a>, we can recover
equally weighted, past or present exponentially weighted expectations.</p>
<div class="proof algorithm dropdown admonition" id="algo-expected-boltzmann-return">
<p class="admonition-title"><span class="caption-number">Algorithm 1 </span> (Boltzmann Weighted Expected Return )</p>
<section class="algorithm-content" id="proof-content">
<p><strong>Inputs</strong> Ticker <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> price dataset <span class="math notranslate nohighlight">\(\bar{\mathcal{P}}\)</span> for time period <span class="math notranslate nohighlight">\(1\rightarrow T\)</span>,
annualized risk free rate <span class="math notranslate nohighlight">\(r_{f}\)</span>, time-window <span class="math notranslate nohighlight">\(\mathcal{L}\)</span>, <span class="math notranslate nohighlight">\(\lambda\)</span>, and <span class="math notranslate nohighlight">\(\epsilon_{t}&gt;0\)</span> values</p>
<p><strong>Outputs</strong> Boltzmann weighted expected return <span class="math notranslate nohighlight">\(\mathbb{E}_{B}\left(R\right)\)</span>,
the unweighted excess return vector <span class="math notranslate nohighlight">\(R\)</span>, and the probability array <span class="math notranslate nohighlight">\(p\)</span></p>
<p><strong>Initialize</strong></p>
<ol class="arabic simple">
<li><p>sort dataset <span class="math notranslate nohighlight">\(\mathcal{P}\leftarrow\bar{\mathcal{P}}\)</span> from newest to oldest prices.</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(R~\leftarrow\)</span> Array(<span class="math notranslate nohighlight">\(\mathcal{L}\)</span>,1)</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(W~\leftarrow\)</span> Array(<span class="math notranslate nohighlight">\(\mathcal{L}\)</span>,1)</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(\mathcal{R}~\leftarrow\)</span> Array(<span class="math notranslate nohighlight">\(\mathcal{L}\)</span>,1)</p></li>
</ol>
<p><strong>Main</strong></p>
<ol class="arabic simple">
<li><p>for t <span class="math notranslate nohighlight">\(\in\)</span> 1:<span class="math notranslate nohighlight">\(\mathcal{L}\)</span></p>
<ol class="arabic simple">
<li><p>compute excess return <span class="math notranslate nohighlight">\(R[t]\leftarrow \log\left(P[t]/P[t-1]\right) - r_{f}\)</span></p></li>
<li><p>compute weight factor <span class="math notranslate nohighlight">\(W[t]\leftarrow \exp\left(-\lambda\times\epsilon[t]\right)\)</span></p></li>
<li><p>compute weighted return factor <span class="math notranslate nohighlight">\(\mathcal{R}[t] \leftarrow R[t]\times~W[t]\)</span></p></li>
</ol>
</li>
</ol>
<p><strong>Process</strong></p>
<ol class="arabic simple">
<li><p>compute normalization constant <span class="math notranslate nohighlight">\(Z\leftarrow \sum~W\)</span></p></li>
<li><p>compute expectation <span class="math notranslate nohighlight">\(\mathbb{E}_{B}\left(R\right)\leftarrow(1/Z)\times\sum\mathcal{R}\)</span></p></li>
<li><p>compute probability <span class="math notranslate nohighlight">\(p\leftarrow(1/Z)\times~W\)</span></p></li>
</ol>
<p><strong>Return</strong></p>
<ol class="arabic simple">
<li><p>expected return <span class="math notranslate nohighlight">\(\mathbb{E}_{B}\left(R\right)\)</span>, unweighted excess return vector <span class="math notranslate nohighlight">\(R\)</span>,  weighted excess return vector <span class="math notranslate nohighlight">\(\mathcal{R}\)</span>, and probability array <span class="math notranslate nohighlight">\(p\)</span></p></li>
</ol>
</section>
</div><section id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">#</a></h4>
<ul class="simple">
<li><p>Markowitz portfolio allocation using Boltzmann weighted excess returns. <a class="reference external" href="https://github.com/varnerlab/CHEME-5660-Markets-Mayhem-Example-Notebooks">Live notebook</a> or a <a class="reference external" href="https://htmlview.glitch.me/?https://github.com/varnerlab/CHEME-5660-Markets-Mayhem-Example-Notebooks/blob/main/jupyter-notebooks/html/Example-SIM-Boltzmann-Markowitz-Allocation.html">static HTML view</a>.</p></li>
</ul>
</section>
</section>
<section id="volatility-and-the-covariance-matrix">
<span id="content-references-risk-volatility"></span><h3>Volatility and the Covariance Matrix<a class="headerlink" href="#volatility-and-the-covariance-matrix" title="Permalink to this headline">#</a></h3>
<p>Now that we have defined different types of returns, the rewards of a portfolio, let’s define the risk. One measure of risk is volatility, e.g., the standard deviation of the <a class="reference internal" href="#content-references-log-return"><span class="std std-ref">Logarithmic return</span></a>:</p>
<div class="proof definition admonition" id="defn-volatility">
<p class="admonition-title"><span class="caption-number">Definition 29 </span> (Volatility)</p>
<section class="definition-content" id="proof-content">
<p>Let the price of asset <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(j\)</span> be denoted by <span class="math notranslate nohighlight">\(P_{ij}&gt;0\)</span>. Then the <em>volatility</em> of asset <span class="math notranslate nohighlight">\(i\)</span> is
the standard deviation of the logarithmic returns calculated between time periods
<span class="math notranslate nohighlight">\(j\rightarrow{j+1}\)</span>.</p>
</section>
</div><p>We can estimate the volatility of <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> directly from historical price data; calculating volatility from data
gives the <em>historic volatility</em>, a backward-looking measure of the risk. An unbiased
estimate of the variance (which is the square of the <em>historic volatility</em>) is given by:</p>
<div class="math notranslate nohighlight">
\[\sigma_{n}^2 = \frac{1}{m-1}\sum_{i=1}^{m}\left(\bar{r}_{n-i}-\hat{\mu}_{r}\right)^2\qquad{n&gt;{m+1}}\]</div>
<p>where <span class="math notranslate nohighlight">\(\bar{r}_{n-i}\)</span> denotes logarithmic return computed for time <span class="math notranslate nohighlight">\(n-i-1\rightarrow{n-i}\)</span> and
<span class="math notranslate nohighlight">\(\hat{\mu}_{r}\)</span> denotes the average logarithmic return, computed using the <span class="math notranslate nohighlight">\(m\)</span> most recent values of
the return:</p>
<div class="math notranslate nohighlight">
\[\hat{\mu}_{r} = \frac{1}{m}\sum_{i=1}^{m}\bar{r}_{n-i}\]</div>
<p>The choice of <span class="math notranslate nohighlight">\((n,m)\)</span> is up to you and the application you are interested in. A sketch of an algorithm that can be used to calculate the <em>historic volatility</em> is given in <a class="reference internal" href="#algo-unbiased-historic-volatility">Algorithm 2</a>:</p>
<div class="proof algorithm admonition" id="algo-unbiased-historic-volatility">
<p class="admonition-title"><span class="caption-number">Algorithm 2 </span> (Unbiased estimate of the return variance)</p>
<section class="algorithm-content" id="proof-content">
<p><strong>Inputs</strong> Ticker <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> price dataset <span class="math notranslate nohighlight">\(\bar{\mathcal{P}}\)</span> for time period <span class="math notranslate nohighlight">\(1\rightarrow T\)</span>, parameters <span class="math notranslate nohighlight">\((n,m)\)</span> where <span class="math notranslate nohighlight">\(n&gt;m+1\)</span> and <span class="math notranslate nohighlight">\(\texttt{avg}\)</span> a function that computes the average of a vector.</p>
<p><strong>Outputs</strong> An unbiased estimate of the return variance <span class="math notranslate nohighlight">\(\sigma_{n}^{2}\)</span></p>
<p><strong>Initialize</strong></p>
<ol class="arabic simple">
<li><p>sort dataset <span class="math notranslate nohighlight">\(\mathcal{P}\leftarrow\bar{\mathcal{P}}\)</span> from newest to oldest prices.</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(\bar{R}~\leftarrow\)</span> Array(<span class="math notranslate nohighlight">\(m\)</span>,1)</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(\mu_{r}\)</span> = 0</p></li>
<li><p>initialize <span class="math notranslate nohighlight">\(\text{tmp}\)</span> = 0</p></li>
</ol>
<p><strong>Compute <span class="math notranslate nohighlight">\(\bar{R}\)</span></strong></p>
<ol class="arabic simple">
<li><p>for i <span class="math notranslate nohighlight">\(\in~1:m\)</span></p>
<ol class="arabic simple">
<li><p>compute <span class="math notranslate nohighlight">\(\bar{r}_{n-i}\leftarrow\log\left(\frac{P_{n-i}}{P_{n-i-1}}\right)\)</span></p></li>
<li><p>store <span class="math notranslate nohighlight">\(\bar{R}[i]\leftarrow{\bar{r}_{n-i}}\)</span></p></li>
</ol>
</li>
</ol>
<p><strong>Compute <span class="math notranslate nohighlight">\(\mu_{r}\)</span></strong></p>
<ol class="arabic simple">
<li><p>compute <span class="math notranslate nohighlight">\(\mu_{r}\leftarrow\texttt{avg}\left(\bar{R}\right)\)</span></p></li>
</ol>
<p><strong>Compute <span class="math notranslate nohighlight">\(\sigma_{n}^{2}\)</span></strong></p>
<ol class="arabic simple">
<li><p>for i <span class="math notranslate nohighlight">\(\in~1:m\)</span></p>
<ol class="arabic simple">
<li><p>compute <span class="math notranslate nohighlight">\(\text{tmp}~\leftarrow~\text{tmp}~+ \left( \bar{R}[i] - \mu_{r} \right)^2\)</span></p></li>
</ol>
</li>
<li><p>compute <span class="math notranslate nohighlight">\(\sigma_{n}^{2}\leftarrow\frac{1}{m-1}\cdot\text{tmp}\)</span></p></li>
</ol>
<p><strong>Return</strong></p>
<ol class="arabic simple">
<li><p>return <span class="math notranslate nohighlight">\(\sigma_{n}^{2}\)</span></p></li>
</ol>
</section>
</div></section>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://htmlview.glitch.me/?https://github.com/varnerlab/CHEME-5660-Markets-Mayhem-Example-Notebooks/blob/main/pluto-notebooks/html/Example-UnbiasedVolatility-Estimation.jl.html">Computation of the unbiased historical volatility using <a class="reference internal" href="#algo-unbiased-historic-volatility">Algorithm 2</a></a></p></li>
</ul>
</section>
</section>
<section id="model-driven-markowitz-allocation">
<span id="content-references-markowitz-solution-sim"></span><h2>Model-Driven Markowitz Allocation<a class="headerlink" href="#model-driven-markowitz-allocation" title="Permalink to this headline">#</a></h2>
</section>
<section id="does-markowitz-portfolio-allocation-work">
<span id="content-references-markowitz-solution-test"></span><h2>Does Markowitz Portfolio Allocation work?<a class="headerlink" href="#does-markowitz-portfolio-allocation-work" title="Permalink to this headline">#</a></h2>
<p>Let’s try to get a sense of whether Markowitz portfolios work in practice.</p>
<section id="buy-and-hold-strategy">
<span id="content-references-buy-and-hold-strategy"></span><h3>Buy and Hold Strategy<a class="headerlink" href="#buy-and-hold-strategy" title="Permalink to this headline">#</a></h3>
<p>We have tools to measure the risk and reward of stocks, now, let’s begin the discussion of investment strategies. The <a class="reference external" href="https://www.investopedia.com/terms/b/buyandhold.asp">buy and hold strategy</a> is arguably the most straightforward approach for investing in stocks (or ETFs). In this approach, an investor buys shares of <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> on a regular basis and then holds these shares indefinitely, regardless of the short-term price fluctuations in <code class="docutils literal notranslate"><span class="pre">XYZ.</span></code></p>
<p>The <a class="reference external" href="https://www.investopedia.com/terms/b/buyandhold.asp">buy and hold strategy</a> is a passive investment approach. No consideration is given to unrealized gains (or losses), and no adjustments are made to the fund other than adding new shares. However, while this approach may appear naive, it can be surprisingly successful.</p>
<p>The keys to the success of the <a class="reference external" href="https://www.investopedia.com/terms/b/buyandhold.asp">buy and hold strategy</a> are:</p>
<ul class="simple">
<li><p>The expected return of the market, when viewed over a long time horizon, is positive; thus, stocks (or ETFs) with <span class="math notranslate nohighlight">\(\beta&gt;0\)</span> will (on average) be expected to appreciate.</p></li>
<li><p>Further, because the investor is periodically adding new shares of <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> to their overall portfolio, the average share price of <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> held by the investor can reflect short-term price fluctuations.</p></li>
</ul>
<p>Let’s explore these two points with an example:</p>
<div class="proof example admonition" id="example-average-cost">
<p class="admonition-title"><span class="caption-number">Example 24 </span> (Buy and hold strategy for <a class="reference external" href="https://finance.yahoo.com/quote/SPY/">SPY</a> )</p>
<section class="example-content" id="proof-content">
<p>Suppose we purchased $1.00’s worth of <a class="reference external" href="https://finance.yahoo.com/quote/SPY/">SPY</a> shares at the close of every trading day over a five year period.</p>
<p>Finish me.</p>
</section>
</div></section>
</section>
<hr class="docutils" />
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p>In this section, we introduced Modern portfolio theory (MPT), a method for selecting a portfolio of assets, e.g., a collection of stocks or bonds, that maximize the overall reward an investor recieves, gievn an acceptable level of risk. In particular, we explored Markowitz portfolio optimization; Harry Markowitz, who developed the mathematical foundation of MPT <span id="id4">[<a class="reference internal" href="../References.html#id19" title="Harry Markowitz. Portfolio selection. The Journal of Finance, 7(1):77–91, 1952. URL: http://www.jstor.org/stable/2975974 (visited on 2022-04-12).">Markowitz, 1952</a>]</span>, was later awarded a <a class="reference external" href="https://www.nobelprize.org/prizes/economic-sciences/1990/markowitz/facts/">Nobel Prize for his work in 1990</a>.</p>
<p>The central theme of modern portfolio theory is balancing risk and reward. Reward is measured as the <a class="reference external" href="https://www.investopedia.com/terms/r/return.asp">expected return</a> of a portfolio of assets, while, the risk is calculated as the variance of the logarithmic or fraction return of the portfolio. Thus, the objective of modern portfolio theory is to balance the composition of the portfolio such that an investor obtains a desired expected return while minimizing the variance (risk).</p>
<p>In this chapter, we:</p>
<ul class="simple">
<li><p>Introduced <a class="reference internal" href="#content-references-markowitz"><span class="std std-ref">Markowitz Portfolio Allocation</span></a> for a portfolio of risky and risk-free assets</p></li>
<li><p>Introduced <a class="reference internal" href="#content-references-markowitz-solution"><span class="std std-ref">Data-Driven Markowitz Allocation</span></a> and <a class="reference internal" href="#content-references-markowitz-solution-sim"><span class="std std-ref">Model-Driven Markowitz Allocation</span></a></p></li>
<li><p>Explored the question <a class="reference internal" href="#content-references-markowitz-solution-test"><span class="std std-ref">Does Markowitz Portfolio Allocation work?</span></a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapter-3-dir"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="chapter-3-landing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Unit 3: Portfolio Management</p>
      </div>
    </a>
    <a class="right-next"
       href="model-markowitz.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Model-Driven Portfolio Theory</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#markowitz-portfolio-allocation">Markowitz Portfolio Allocation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#markowitz-allocation-for-risk-assets-only">Markowitz allocation for risk assets only</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#portfolios-of-risky-and-risk-free-assets">Portfolios of risky and risk-free assets</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-driven-markowitz-allocation">Data-Driven Markowitz Allocation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fractional-return">Fractional return</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logarithmic-return">Logarithmic return</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#expected-excess-returns-from-data">Expected excess returns from data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#volatility-and-the-covariance-matrix">Volatility and the Covariance Matrix</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-driven-markowitz-allocation">Model-Driven Markowitz Allocation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#does-markowitz-portfolio-allocation-work">Does Markowitz Portfolio Allocation work?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#buy-and-hold-strategy">Buy and Hold Strategy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Varner and Woltornist
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>